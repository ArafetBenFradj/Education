<app-banner [descriptionBanner]="btnTitle" [descriptionText]="text"></app-banner>
<section class="section bg-gray">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <h2 class="section-title">{{bannerTitle}}</h2>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-7 mb-4 mb-lg-0">
        <form [formGroup]="addCourseForm" enctype="multipart/form-data">
          <div class="col-12">
            <input
              type="text"
              class="form-control mb-3"
              [(ngModel)]="course.name" 
              formControlName="name"
              name="nameCourse"
              placeholder="Name Of Course"
            />
          </div>
          <div
            class="col-sm-12"
            style="color: red"
            *ngIf="
              addCourseForm.controls['name'].invalid &&
              (addCourseForm.controls['name'].dirty ||
                addCourseForm.controls['name'].touched)
            "
          >
            <div *ngIf="addCourseForm.controls['name'].errors.required">
              Name Course is required
            </div>
            <div *ngIf="addCourseForm.controls['name'].errors.minlength">
              Name Course should have at least 3 carac
            </div>
          </div>
          <div class="col-12">
            <input
              type="number"
              class="form-control mb-3"
              [(ngModel)]="course.monthDuree" 
              formControlName="monthDuree"
              name="monthDureeCourse"
              placeholder="Month Durée"
            />
          </div>
          <div
            class="col-sm-12"
            style="color: red"
            *ngIf="
              addCourseForm.controls['monthDuree'].invalid &&
              (addCourseForm.controls['monthDuree'].dirty ||
                addCourseForm.controls['monthDuree'].touched)
            "
          >
            <div *ngIf="addCourseForm.controls['monthDuree'].errors.required">
              Month Durée of Course is required
            </div>
            <div *ngIf="addCourseForm.controls['monthDuree'].errors.min">
              Month Durée of Course should be greater than 2
            </div>
            <div *ngIf="addCourseForm.controls['monthDuree'].errors.max">
              Month Durée of Course should be less than 6
            </div>
          </div>
          <div class="col-12">
            <input
              type="number"
              class="form-control mb-3"
              [(ngModel)]="course.HourDuree"
              formControlName="HourDuree"
              name="HourDureeCourse"
              placeholder="Hours Durée"
            />
          </div>
          <div
            class="col-sm-12"
            style="color: red"
            *ngIf="
              addCourseForm.controls['HourDuree'].invalid &&
              (addCourseForm.controls['HourDuree'].dirty ||
                addCourseForm.controls['HourDuree'].touched)
            "
          >
            <div *ngIf="addCourseForm.controls['HourDuree'].errors.required">
              Hours Durée of Course is required
            </div>
            <div *ngIf="addCourseForm.controls['HourDuree'].errors.min">
              Hours Durée of Course Should be greater than 2
            </div>
            <div *ngIf="addCourseForm.controls['HourDuree'].errors.max">
              Hours Durée of Course Should be less than 4
            </div>
          </div>
          <div class="col-12">
            <textarea
            [(ngModel)]="course.description"
              formControlName="description"
              name="descriptionCourse"
              class="form-control mb-3"
              placeholder="Your Description"
            ></textarea>
          </div>

          <div
            class="col-sm-12"
            style="color: red"
            *ngIf="
              addCourseForm.controls['description'].invalid &&
              (addCourseForm.controls['description'].dirty ||
                addCourseForm.controls['description'].touched)
            "
          >
            <div *ngIf="addCourseForm.controls['description'].errors.required">
              Description of Course is required
            </div>
            <div *ngIf="addCourseForm.controls['description'].errors.minlength">
              Description of Course should have at least 10 carac 
            </div>
          </div>
          <div class="col-12">
            <input
              type="number"
              class="form-control mb-3"
              [(ngModel)]="course.price"
              formControlName="price"
              name="priceCourse"
              placeholder="Price Of Course"
            />
          </div>

          <div
            class="col-sm-12 " 
            style="color: red"
            *ngIf="
              addCourseForm.controls['price'].invalid &&
              (addCourseForm.controls['price'].dirty ||
                addCourseForm.controls['price'].touched)
            "
          >
            <div  *ngIf="addCourseForm.controls['price'].errors.required">
              Price of Course is required
            </div>
            <div *ngIf="addCourseForm.controls['price'].errors.min">
              Price of Course Should be greater than 20 
            </div>
          </div>
          <div class="form-group" style="display: none;">
            <input
              type="file"
              class="form-control"
              name="img"
              #filePicker
              (change)="onImageSelected($event)"
            />
          </div>
          <div class="text-center">
            <div>
              <button type="button" (click)="filePicker.click()" class="btn btn-success">Select Photo Of Course</button>
            </div>
           <div class="mt-4 mb-4"> 
            <img [src]="imagePreview" width="200px">
           </div>
            
          </div>
          <button
            type="submit"
            value="Add/Edit"
            (click)="addOrEditCourse()"
            [disabled]="addCourseForm.invalid"
            class="btn btn-primary"
          >
           {{btnTitle}}
          </button>
        </form>
      </div>
    </div>
  </div>
</section>
